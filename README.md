# supercollider-interserver-bus

This is a work in progress.

## Example

A crossfeedback FM (from https://scsynth.org/t/cybernetic-music-with-supercollider/3184/3) running on a server with `blockSize = 1` and sending its signal via `ISBus`.

Notice that `Ndef(\listen)` is running on the default server and listening to the signal generated by the `\singleSample` server.

There is a delay of 2048 blocks in the bus. This is delay is configurable and depends on your hardware / audio engine buffer size.

```supercollider
(
s.waitForBoot {
	z = Server.new(\singleSample, NetAddr("127.0.0.1", 57140));
	z.options.blockSize = 1;
	z.waitForBoot {
		Ndef(\singleSampleXFM -> \singleSample).addSpec(\freqA, [0.01, 20000, \exp]);
		Ndef(\singleSampleXFM -> \singleSample).addSpec(\freqB, [0.01, 20000, \exp]);
		Ndef(\singleSampleXFM -> \singleSample).addSpec(\modAtoB, [0,1000]);
		Ndef(\singleSampleXFM -> \singleSample).addSpec(\modBtoA, [0,1000]);
		Ndef(\singleSampleXFM -> \singleSample).addSpec(\delayedSamples, [0,2, \lin, 1]);
		
		Ndef(\singleSampleXFM -> \singleSample, { arg freqA = 32, freqB = 9, modAtoB=540, modBtoA=240, delayedSamples;
			var fbIn = LocalIn.ar(2);
			var sigs = SinOsc.ar([freqA, freqB] + (fbIn.reverse * [modBtoA, modAtoB]));
			LocalOut.ar(
				Select.ar(delayedSamples, [
					sigs,
					Delay1.ar(sigs),
					Delay2.ar(sigs)
				]);
			);
			ISOut.ar(0, sigs * 0.5);
		}).gui;
		
		Ndef(\listen, {
			ISIn.ar(0, 2);
		}).gui;
	}
};
)
```

### Requirements

- CMake >= 3.12
- SuperCollider source code

### Building

Clone the project:

    git clone https://github.com/bgola/supercollider-interserver-bus
    cd supercollider-interserver-bus
    mkdir build
    cd build

Then, use CMake to configure and build it:

    cmake .. -DCMAKE_BUILD_TYPE=Release
    cmake --build . --config Release
    cmake --build . --config Release --target install

You may want to manually specify the install location in the first step to point it at your
SuperCollider extensions directory: add the option `-DCMAKE_INSTALL_PREFIX=/path/to/extensions`.

It's expected that the SuperCollider repo is cloned at `../supercollider` relative to this repo. If
it's not: add the option `-DSC_PATH=/path/to/sc/source`.
